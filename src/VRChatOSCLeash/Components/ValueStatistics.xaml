<UserControl
    x:Class="VRChatOSCLeash.ValueStatistics"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:VRChatOSCLeash"
    xmlns:convert="using:VRChatOSCLeash.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DesignWidth="400">

    <UserControl.Resources>
        <convert:ToStringConverter x:Key="ToString" />
        <convert:RoundConverter x:Key="RoundConverter" />
        <convert:VisibilityConverter x:Key="Visibility" />
    </UserControl.Resources>


    <StackPanel Orientation="Vertical">

        <!-- Movement data -->
        <Grid Visibility="{x:Bind ApplicationSettings.GlobalEnableLeash, Converter={StaticResource Visibility}, Mode=OneWay}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>

            <FontIcon Glyph="&#xE740;" Grid.Row="0" Grid.Column="0" Width="24" Height="24" Margin="0 0 0 10">
                <FontIcon.RenderTransform>
                    <RotateTransform Angle="45" CenterX="12" CenterY="12"/>
                </FontIcon.RenderTransform>
            </FontIcon>
            <TextBox Text="{x:Bind LeashData.HorizontalOffset, Converter={StaticResource RoundConverter}, Mode=OneWay}" IsReadOnly="True" Width="auto" Grid.Row="1" Grid.Column="0" Margin="2 0 2 0" />

            <FontIcon Glyph="&#xE740;" Grid.Row="0" Grid.Column="1" Width="24" Height="24" Margin="0 0 0 10">
                <FontIcon.RenderTransform>
                    <RotateTransform Angle="-45" CenterX="12" CenterY="12"/>
                </FontIcon.RenderTransform>
            </FontIcon>
            <TextBox Text="{x:Bind LeashData.VerticalOffset, Converter={StaticResource RoundConverter}, Mode=OneWay}" IsReadOnly="True" Width="auto" Grid.Row="1" Grid.Column="1" Margin="2 0 2 0" />

            <FontIcon Glyph="&#xE80C;" Grid.Row="0" Grid.Column="2" Width="24" Height="24" Margin="0 0 0 10">
                <FontIcon.RenderTransform>
                    <RotateTransform Angle="90" CenterX="12" CenterY="12"/>
                </FontIcon.RenderTransform>
            </FontIcon>
            <FontIcon Glyph="&#xE80D;" Grid.Row="0" Grid.Column="2" Width="24" Height="24" Margin="0 0 0 10">
                <FontIcon.RenderTransform>
                    <RotateTransform Angle="-90" CenterX="12" CenterY="12"/>
                </FontIcon.RenderTransform>
            </FontIcon>
            <TextBox Text="{x:Bind LeashData.HorizontalLook, Converter={StaticResource RoundConverter}, Mode=OneWay}" IsReadOnly="True" Width="auto" Grid.Row="1" Grid.Column="2" Margin="2 0 2 0" />

            <FontIcon Glyph="&#xE726;" Grid.Row="0" Grid.Column="3" Width="24" Height="24" Margin="0 0 0 10"/>
            <TextBox Text="{x:Bind LeashData.ShouldRun, Converter={StaticResource ToString}, Mode=OneWay}" IsReadOnly="True" Width="auto" Grid.Row="1" Grid.Column="3" Margin="2 0 2 0" />
        </Grid>

        <Rectangle Height="1" Fill="#33ffffff" Margin="0,10" Visibility="{x:Bind ApplicationSettings.GlobalEnableLeash, Converter={StaticResource Visibility}, Mode=OneWay}"/>

        <Grid RowSpacing="5" ColumnSpacing="5" Visibility="{x:Bind ApplicationSettings.GlobalEnableLeash, Converter={StaticResource Visibility}, Mode=OneWay}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <FontIcon Glyph="&#xE7C2;" Grid.Row="1" Grid.Column="1" Width="24" Height="24" FontSize="24" />

            <!-- Forward collider -->
            <TextBox Grid.Row="0" Grid.Column="1"
                         ToolTipService.ToolTip="The distance from the leash to the collider in the front"
                         Text="{x:Bind OscParameters.FrontDistance, Converter={StaticResource RoundConverter}, Mode=OneWay}"
                         IsReadOnly="True" />

            <!-- Back collider -->
            <TextBox Grid.Row="2" Grid.Column="1"
                         ToolTipService.ToolTip="The distance from the leash to the collider in the back"
                         Text="{x:Bind OscParameters.BackDistance, Converter={StaticResource RoundConverter}, Mode=OneWay}"
                         IsReadOnly="True" />

            <!-- Left collider -->
            <TextBox Grid.Row="1" Grid.Column="0"
                         ToolTipService.ToolTip="The distance from the leash to the collider to the left"
                         Text="{x:Bind OscParameters.LeftDistance, Converter={StaticResource RoundConverter}, Mode=OneWay}"
                         IsReadOnly="True" />

            <!-- Right collider -->
            <TextBox Grid.Row="1" Grid.Column="2"
                         ToolTipService.ToolTip="The distance from the leash to the collider to the right"
                         Text="{x:Bind OscParameters.RightDistance, Converter={StaticResource RoundConverter}, Mode=OneWay}"
                         IsReadOnly="True" />
        </Grid>

        <Rectangle Height="1" Fill="#33ffffff" Margin="0,10" Visibility="{x:Bind ApplicationSettings.GlobalEnableLeash, Converter={StaticResource Visibility}, Mode=OneWay}"/>

        <!-- Timer data -->

        <Grid RowSpacing="5" ColumnSpacing="5" Visibility="{x:Bind ApplicationSettings.GlobalEnableCounter, Converter={StaticResource Visibility}, Mode=OneWay}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal" Grid.ColumnSpan="3" Grid.Row="0" Width="auto" HorizontalAlignment="Center">
                <FontIcon Glyph="&#xE916;" />
                <TextBlock Text="Counter time" />
            </StackPanel>

            <TextBox Width="auto" Grid.Column="0" Grid.Row="1"
                         ToolTipService.ToolTip="The amount of hours the counter is on"
                         Text="{x:Bind TimerData.TimeSpan.Hours, Converter={StaticResource ToString}, Mode=OneWay}" 
                         IsReadOnly="True"  />

            <TextBox Width="auto" Grid.Column="1" Grid.Row="1" 
                         ToolTipService.ToolTip="The amount of minutes the counter is on"
                         Text="{x:Bind TimerData.TimeSpan.Minutes, Converter={StaticResource ToString}, Mode=OneWay}" 
                         IsReadOnly="True"  />

            <TextBox Width="auto" Grid.Column="2" Grid.Row="1"
                         ToolTipService.ToolTip="The amount of seconds the counter is on"
                         Text="{x:Bind TimerData.TimeSpan.Seconds, Converter={StaticResource ToString}, Mode=OneWay}" 
                         IsReadOnly="True"  />

        </Grid>

        <Rectangle Height="1" Fill="#33ffffff" Margin="0,10" Visibility="{x:Bind ApplicationSettings.GlobalEnableCounter, Converter={StaticResource Visibility}, Mode=OneWay}"/>

        <!-- Left over data: Grabbed, Angle, Stretch-->

        <Grid ColumnSpacing="5" RowSpacing="5" Visibility="{x:Bind ApplicationSettings.GlobalEnableLeash, Converter={StaticResource Visibility}, Mode=OneWay}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>

            <FontIcon Glyph="&#xF271;"
                          HorizontalAlignment="Center"
                          Width="24" 
                          Height="24" 
                          Grid.Row="0" 
                          Grid.Column="0"
                          ToolTipService.ToolTip="Whether the leash is grabbed or not">
            </FontIcon>

            <TextBox HorizontalAlignment="Stretch" Grid.Row="1" Grid.Column="0"
                         ToolTipService.ToolTip="Whether the leash is grabbed or not"
                         Text="{x:Bind OscParameters.IsGrabbed, Converter={StaticResource ToString}, Mode=OneWay}"
                         IsReadOnly="True">
            </TextBox>


            <FontIcon Glyph="&#xE97A;"
                          HorizontalAlignment="Center"
                          Width="24"
                          Height="24"
                          Grid.Row="0"
                          Grid.Column="1"
                          ToolTipService.ToolTip="The angle of the leash" >
                <FontIcon.RenderTransform>
                    <RotateTransform Angle="-45" CenterX="12" CenterY="12"/>
                </FontIcon.RenderTransform>
            </FontIcon>

            <TextBox HorizontalAlignment="Stretch" Grid.Row="1" Grid.Column="1"
                         ToolTipService.ToolTip="The angle of the leash"
                         Text="{x:Bind OscParameters.Angle, Converter={StaticResource RoundConverter}, Mode=OneWay}"
                         IsReadOnly="True">
            </TextBox>


            <FontIcon Glyph="&#xE740;"
                          HorizontalAlignment="Center"
                          Grid.Row="0"
                          Grid.Column="2"
                          ToolTipService.ToolTip="The amount of stretch the leash has" >

                <FontIcon.RenderTransform>
                    <RotateTransform Angle="45" CenterX="12" CenterY="12"/>
                </FontIcon.RenderTransform>
            </FontIcon>

            <TextBox HorizontalAlignment="Stretch" Grid.Row="1" Grid.Column="2"
                         ToolTipService.ToolTip="The amount of stretch the leash has"
                         Text="{x:Bind OscParameters.Stretch, Converter={StaticResource RoundConverter}, Mode=OneWay}"
                         IsReadOnly="True">
            </TextBox>

        </Grid>

        <Rectangle Height="1" Fill="#33ffffff" Margin="0,10"/>
        
    </StackPanel>

</UserControl>
